<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>requestAnimationFrame</title>
  <style>
    body {
      height: 100vh;
      margin: 0;
    }

    .emoji {
      background-color: rgba(0, 255, 255, .5);
      border-radius: 50%;
      position: fixed;
      top: 10px;
      left: 10px;
      font-size: 3rem;

      will-change: transform;
      /* 
      will-change: 
      ìš”ì†Œì— ì˜ˆìƒë˜ëŠ” ë³€í™”ì˜ ì¢…ë¥˜ì— ê´€í•œ íŒíŠ¸ë¥¼ ë¸Œë¼ìš°ì €ì— ì œê³µ 
      ì‹¤ì œ ìš”ì†Œê°€ ë³€í™”ë˜ê¸° ì „ì— ë¯¸ë¦¬ ë¸Œë¼ìš°ì €ëŠ” ì ì ˆí•˜ê²Œ ìµœì í™”í•  ìˆ˜ ìˆë‹¤
      ì›¹í‚· ê³„ì—´ ë¸Œë¼ìš°ì €ì˜ ê²½ìš° transform, animation ì‚¬ìš©ì‹œ ê¹œë¹¡ì´ëŠ” í˜„ìƒì´ ìˆì–´ ë°©ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©

      ê°’
        auto; ê¸°ë³¸ê°’
        scroll-position; ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ë°”ê¿ˆ
        contents; ì»¨í…ì¸  ë°”ê¿ˆ
        ê·¸ ì™¸ css ì†ì„±(opacity, top, left..) ì‚¬ìš© ê°€ëŠ¥
      */
    }
  </style>
</head>

<body>
  <h1>window.requestAnimationFrame()</h1>
  <h2>í™”ë©´ì— í”„ë ˆì„ì´ ì‹¤í–‰ë˜ê¸° ì „ í•¨ìˆ˜ í˜¸ì¶œ</h2>
  <a href="https://developer.mozilla.org/ko/docs/Web/API/window/requestAnimationFrame" target="_blank">MDN</a>

  <div class="emoji">ğŸ…</div>

  <script>
    /*
      requestAnimationFrame(callback);
        ã„´ ì½œë°±í•¨ìˆ˜: ì• ë‹ˆë©”ì´ì…˜ì„ ì—…ë°ì´íŠ¸í•  ë•Œ í˜¸ì¶œí•  í•¨ìˆ˜
        ã„´ ë°˜í™˜ê°’ : ìš”ì²­ idì¸ long ì •ìˆ˜ ê°’
    */

    const emoji = document.querySelector('.emoji');

    // ë§ˆìš°ìŠ¤ ì¢Œí‘œ
    let mouseX = 0;
    let mouseY = 0;

    addEventListener('mousemove', evt => {
      mouseX = evt.clientX - 25;
      mouseY = evt.clientY - 25;
      // console.log(mouseX, mouseY)
    })

    // ì»¤ì„œë¥¼ ë”°ë¼ë‹¤ë‹ˆëŠ” ì´ëª¨ì§€ ì¢Œí‘œ
    let emojiX = 0;
    let emojiY = 0;

    const moving = () => {
      requestAnimationFrame(moving);// ì—°ì† í˜¸ì¶œì´ í•„ìš”

      emojiX += (mouseX - emojiX) * 0.1;
      emojiY += (mouseY - emojiY) * 0.1;

      emoji.style.transform = `translate(${emojiX}px, ${emojiY}px)`;
      // console.log('eX', emojiX, 'eY', emojiY)
    }

    moving();
  </script>
</body>

</html>